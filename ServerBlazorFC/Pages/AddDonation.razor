@page "/adddonation"
@using ServerBlazorFC
@using DonationLibrary.Donation
@inject NavigationManager NavigationManager

<PageTitle>Add Donation</PageTitle>

<h1>Add Donation</h1>

<EditForm Model="@donation" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="donationName">Donation Name</label>
        <InputText id="donationName" class="form-control" @bind-Value="Donation.DonationName" />
    </div>

    <div class="form-group">
        <label for="donationDescription">Donation Description</label>
        <InputText id="donationDescription" class="form-control" @bind-Value="Donation.DonationDescription" />
    </div>

    <div class="form-group">
        <label for="donationValue">Donation Value</label>
        <InputNumber id="donationValue" class="form-control" @bind-Value="Donation.DonationValue" />
    </div>

    <div class="form-group">
        <label for="donationDate">Donation Date</label>
        <InputDate id="donationDate" class="form-control" @bind-Value="Donation.DonationDate" />
    </div>

    <div class="form-group">
        <label for="donationCategory">Donation Category</label>
        <InputSelect id="donationCategory" class="form-control" @bind-Value="Donation.DonationCategory">
            <option value="Clothing">Clothing</option>
            <option value="Food">Food</option>
            <option value="Money">Money</option>
            <option value="Other">Other</option>
        </InputSelect>
    </div>

    <div class="form-group">
        <label for="donationLocation">Donation Location</label>
        <InputText id="donationLocation" class="form-control" @bind-Value="Donation.DonationLocation" />
    </div>

    <div class="form-group">
        <label for="donationStatus">Donation Status</label>
        <InputSelect id="donationStatus" class="form-control" @bind-Value="Donation.DonationStatus">
            <option value="Pending">Pending</option>
            <option value="Approved">Approved</option>
            <option value="Rejected">Rejected</option>
        </InputSelect>
    </div>
    <div class="form-group">
        <label for="donationImage">Donation Image</label>
        <InputFile id="donationImage" class="form-control" @bind-Value="Donation.DonationImage" />
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</EditForm>
<footer> <p>Author: Fraser Copland</p></footer>
@code {
    
        private Donation donation = new Donation();

        private async Task HandleValidSubmit()
        {
            await DonationService.AddDonation(Donation);
            NavigationManager.NavigateTo("/donations");
        }
}
